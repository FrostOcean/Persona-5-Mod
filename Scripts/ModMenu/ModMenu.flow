// Import Utility Scripts
import("../Utilities/Utilities.flow");
// Import Menu Option Text
import("ModMenu.msg");
// Import Submenu Scripts
import("Calendar/Calendar.flow");
import("Call/Call.flow");
import("Camera/Camera.flow");
import("Flags/Flags.flow");
import("Player/Player.flow");
/* Royal Start */
import("Royal/Royal.flow");
/* Royal End */
import("Spawn/Spawn.flow");
import("Teleport.flow");

// Global Variables
global int unitId;
global int gFieldMajor;
global int gFieldMinor;
global int gBitFlagAmount;

// Procedures
void ModMenuDisplay()
{
    // Re-enables screen recording
    ALL_ENABLE_SHARE_PLAY();
    BIT_OFF(8746);
    // Logs your current coordinates
    PrintPosition();

    /* Vanilla Start */
    gBitFlagAmount = 8960;
    /* Vanilla End */
    /* Royal Start */
    gBitFlagAmount = 12800;
    /* Royal End */

    while ( true )
    {
        int selection = DescriptionMenu(Title_ModMenu, Options_ModMenu);
        switch (selection)
        {
            case -1:
                return;
            case 0:
                CallOriginalSquareMenu();
                break;
            case 1:
                // ModMenu/Player/Player.flow
                PlayerMenu();
                break;
            case 2:
                // ModMenu/Teleport.flow
                Teleport();
                break;
            case 3:
                // ModMenu/Call/Call.flow
                CallMenu();
                break;
            case 4:
                // ModMenu/Calendar/Calendar.flow
                CalendarMenu();
                break;
            case 5:
                // ModMenu/Camera/Camera.flow
                CameraMenu();
                break;
            case 6:
                // ModMenu/Flags/Flags.flow
                FlagsMenu();
                break;
            case 7:
                // ModMenu/Spawn/Spawn.flow
                SpawnMenu();
                break;
            case 8:
                SystemMessage( Message_About );
                break;
            /* Royal Start */
            case 9:
                // ModMenu/Royal/Royal.flow
                RoyalMenu();
                break;
            /* Royal End */
        }
    }
}

enum Flag
{
    Section0 = 0,
    Section1 = 2048,
    Section2 = 4096,
    Section3 = 8192,
    Section4 = 8448,
    Section5 = 8704
}

enum FlagR
{
    Section0 = 0,
    Section1 = 3702,
    Section2 = 6144,
    Section3 = 11264,
    Section4 = 11776,
    Section5 = 12288
}